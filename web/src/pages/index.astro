---
import Access from "../components/page/home/Access.astro";
import ClientHome from "../components/page/home/client_home/ClientHome.astro";
import getUser from "../util/getUser";

const session_id = Astro.cookies.get("session_id")?.value
let user_data = null

if(session_id) {
    user_data = await getUser(session_id).catch(e => {
        return null
    }) as any
}

export const prerender = false
---

{
    user_data ? <ClientHome /> : <Access />
}